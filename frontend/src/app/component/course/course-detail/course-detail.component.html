<div class="container">
    <div class="title">
        Khóa học - {{courseData.courseTitle}} - {{courseData.courseGrade}}
        <span class="tab">
            {{courseData.courseType == 1 ? 'Khóa video' : 'Khóa meeting'}}
        </span>
    </div>

    <div class="out-line-content">
        <div class="title-content">Miêu tả khoá học</div>

        <div class="content">
            {{courseData.courseDescriptionText}}
        </div>
        <div class="content">
            {{courseData.courseSubtitle}}
        </div>

        <div class="content">
            Thời gian bắt đầu: {{courseData.timeStart}}
        </div>
        <div class="content">
            Thời gian kết thúc: {{courseData.timeEnd }}
        </div>

        <div class="info-image">
            <img src="../../../../assets/image/image-source.png">
            <!-- <button class="btn btn-change-image">Thay đổi ảnh</button> -->
        </div>

        <div class="out-line-title">
            <div class="title-content">Danh Sách Khoá Học</div>
            <div class="action-btn">
                <button class="btn btn-add-chapter" (click)="openModal()" *ngIf="courseData.courseType == 1">
                    Thêm chương
                </button>

                <button class="btn btn-add-chapter" (click)="openModal()" *ngIf="courseData.courseType != 1">
                    Thêm lớp học
                </button>
            </div>
        </div>

        <div *ngIf="courseData.courseType == 1">
            <table class="table-custom">
                <thead>
                    <tr class="row">
                        <th class="text-left" style="width: 100px;">Số thứ tự</th>
                        <th class="text-left" style="width: 300px;">Tên chương</th>
                        <th class="text-center" style="width: 230px;">Chi tiết từng chương</th>
                        <th class="text-center" style="width: 140px;">Hành động</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of courseData.chaptersVo; let index = index" class="row">
                        <td class="text-left" style="width: 100px;">{{ index+1 }}</td>
                        <td class="text-left" style="width: 300px;"> {{ item.chapterTitle }}</td>
                        <td class="text-center" style="width: 230px; justify-content: center">
                            <button class=" btn-establish" (click)="onSetupLesson(item.chapterId)">Thiết lập bài giảng</button>
                        </td>
                        <td class="text-center" style="width: 140px; justify-content: center">
                            <button class="btn-remove" (click)="deleteChapter(item.chapterId)">Xoá chương</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div *ngIf="courseData.courseType == 2">
            <table class="table-custom">
                <thead>
                    <tr class="row">
                        <th class="text-center" style="width: 100px;">Số thứ tự</th>
                        <th class="text-left" style="width: 120px;">Giáo viên</th>
                        <th class="text-left" style="width: 120px;">Lớp học</th>
                        <th class="text-center" style="width: 120px;">Số học sinh</th>
                        <th class="text-left" style="width: 120px;">Trạng thái</th>
                        <th class="text-center" style="width: 350px;">Hành động</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of courseData.classVos; let index = index" class="row">
                        <td class="text-center" style="width: 100px;">{{ index+1 }}</td>
                        <td class="text-left" style="width: 120px;"> {{ item.tutorName }}</td>
                        <td class="text-left" style="width: 120px;"> {{ item.className }}</td>
                        <td class="text-center" style="width: 120px;"> {{ item.totalStudents }}</td>
                        <td class="text-left" style="width: 120px;"> {{ convertStatus(item.totalStudents) }}</td>
                        <td class="text-center" style="width: 350px; display: flex; justify-content: center">
                            <button class="btn-edit"  (click)="onDetailClass(item.classId)" style="background-color: #98ffb9;">Chi tiết</button> 
                            <button class="btn-edit"  (click)="openModal(item)">Chỉnh sửa</button> 
                            <button class=" btn-remove" (click)="deleteClass(item.classId)">Xoá lớp</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>


<app-course-detail-chaper-form [data]="modalData" [isOpen]="isModalOpen" (closeModal)="onCloseModal()"></app-course-detail-chaper-form>
<app-lesson-form [data]="modalData" [isOpen]="isModalOpen2" (closeModal)="onCloseModal2()"></app-lesson-form>